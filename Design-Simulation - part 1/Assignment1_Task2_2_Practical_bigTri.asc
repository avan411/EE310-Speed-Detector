Version 4
SHEET 1 4884 1040
WIRE -640 -464 -784 -464
WIRE -864 -416 -864 -464
WIRE -736 -416 -864 -416
WIRE -640 -400 -640 -464
WIRE -640 -400 -672 -400
WIRE -736 -384 -784 -384
WIRE -784 -336 -784 -384
WIRE -784 -336 -912 -336
WIRE 352 -224 -320 -224
WIRE -128 -160 -192 -160
WIRE -16 -160 -64 -160
WIRE -992 -112 -1056 -112
WIRE -784 -112 -928 -112
WIRE -1056 -96 -1056 -112
WIRE -784 -96 -784 -112
WIRE -320 -32 -320 -224
WIRE -288 -32 -320 -32
WIRE -192 -32 -192 -160
WIRE -192 -32 -208 -32
WIRE 192 -16 128 -16
WIRE -784 0 -784 -16
WIRE -192 0 -192 -32
WIRE -176 0 -192 0
WIRE 352 0 352 -224
WIRE 352 0 256 0
WIRE -16 16 -16 -160
WIRE -16 16 -112 16
WIRE 16 16 -16 16
WIRE 160 16 96 16
WIRE 192 16 160 16
WIRE -176 32 -288 32
WIRE 160 128 160 16
WIRE 208 128 160 128
WIRE 352 128 352 0
WIRE 352 128 288 128
WIRE -656 448 -784 448
WIRE -560 464 -592 464
WIRE -496 464 -560 464
WIRE -720 480 -736 480
WIRE -656 480 -720 480
WIRE -720 560 -720 480
WIRE -672 560 -720 560
WIRE -560 560 -560 464
WIRE -560 560 -592 560
WIRE 512 592 416 592
FLAG -176 384 0
FLAG -176 304 Vsupply
FLAG -16 16 Vtri
FLAG 224 32 0
FLAG -144 48 0
FLAG -288 32 Vref
FLAG 128 -16 Vref
FLAG 352 0 Vsq
FLAG -144 -16 Vsupply
FLAG 224 -32 Vsupply
FLAG 32 304 Vref
FLAG 32 384 0
FLAG 432 -224 Vsupply
FLAG -816 480 Vinput_conditioned
FLAG -624 496 0
FLAG -496 464 Vpwm
FLAG -784 448 Vtri
FLAG -624 432 Vsupply
FLAG 416 672 0
FLAG 512 592 Vreference
FLAG 416 512 Vsupply
FLAG -1056 -16 0
FLAG -784 0 Vref
FLAG -944 -464 0
FLAG -992 -256 0
FLAG -704 -368 0
FLAG -704 -432 Vsupply
SYMBOL voltage -176 288 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value {Vsupply}
SYMBOL res -192 -48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {R1}
SYMBOL cap -64 -176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value {C1}
SYMATTR SpiceLine Rser=10m
SYMBOL res 112 0 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {R2}
SYMBOL res 304 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value {R3}
SYMBOL voltage 32 288 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value {Vref}
SYMBOL AutoGenerated\\LM358 -144 16 R0
WINDOW 0 -2 11 Bottom 2
WINDOW 3 0 56 Top 2
SYMATTR InstName U1
SYMATTR Value LM358
SYMBOL AutoGenerated\\LM393A 224 0 R0
WINDOW 0 -5 10 Bottom 2
SYMATTR InstName U3
SYMBOL res 448 -240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 47
SYMBOL OpAmps\\UniversalOpAmp -624 464 R0
SYMATTR InstName U2
SYMBOL res 400 496 R0
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL res 400 576 R0
SYMATTR InstName R7
SYMATTR Value 1k
SYMBOL res -576 544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 1k
SYMBOL res -720 464 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 1k
SYMBOL voltage -1056 -112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value SINE(3 1 2.5k)
SYMBOL cap -928 -128 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 1µ
SYMBOL res -800 -112 R0
SYMATTR InstName R5
SYMATTR Value 8.2k
SYMBOL res -848 -480 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value {R1}
SYMBOL res -768 -480 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value {R1}
SYMBOL res -1008 -320 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R12
SYMATTR Value {R1}
SYMBOL res -928 -352 R0
SYMATTR InstName R13
SYMATTR Value {R1}
SYMBOL OpAmps\\UniversalOpAmp -704 -400 R0
SYMATTR InstName U4
SYMBOL voltage -992 -352 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value SINE(3 1 2.5k)
TEXT -1112 152 Left 2 !.tran 0 22m 20m startup
TEXT -1112 192 Left 2 !.param C1=10n Vref=2.5 Vsupply=5 R1=1k R2=3.3k R3=5.6k
TEXT 568 -72 Left 2 ;Instructions:\n1. Complete the schematic by adding in an ideal op-amp as a comparator\n    and a voltage source for the reference (Vref)\n     1.1. To add in an ideal op-amp, press F2 > click on opamps > insert Universalopamp2\n     1.2. To add a voltage source, press F2 > in the main menu select voltage\n2. The universal opamp is ideal, so it should not need configuring\n3. To set the reference voltage, right click on the placed voltage source \n     > in the voltage box, enter {Vref}. The use of {} allows you to set variables which is easily configurable later\n     > Insert a ground to the negative terminal of the voltage source\n     > Insert a 'Net Label' to the positive terminal of the voltage source, label it Vref\n        This connects all the nets in the simulations labelled Vref together and makes it easy to read\n4. Right click on the '.param' statement\n    > fill in each of the boxes based on the assignment sheet that you have filled in so far\n5. Run the simulation
TEXT -1112 240 Left 2 !.include LM393A.5_1
TEXT -1112 112 Left 2 !.param Vinput_frequency=2.5k Vinput_offset=1
